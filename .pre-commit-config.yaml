repos:
  - repo: local
    hooks:
      - id: analyzer::build
        name: build analyzer
        entry: bash -c "cd analyzer; yarn build"
        files: analyzer/.*
        language: system
        stages:
          - commit
      - id: analyzer::git-add-build
        name: git add dist directory
        entry: bash -c "sleep 0.2; git add 'analyzer/dist/**/*.*'"
        files: analyzer/.*
        language: system
        stages:
          - commit
      - id: language-server::update-analyzer
        name: update version of analyzer in language-server
        entry: bash -c "cd language-server; yarn add ../analyzer"
        files: analyzer/.*
        language: system
        stages:
          - commit
